<!doctype html>
<!--[if IE 7 ]><html class="ie7"> <![endif]-->
<!--[if IE 8 ]><html class="ie8"> <![endif]-->
<!--[if IE 9 ]><html class="ie9"> <![endif]-->
<!--[if (gte IE 10)|!(IE)]><!--><html> <!--<![endif]-->
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<link rel="stylesheet" type="text/css" href="css/style.css">

	<title>Задание 2</title>

	
</head>

<body>

<div id="main">

	<div class="container">

	<h1 class="form_title">JSON</h1>
	
	<div class="form_box">

		<form id="test" action="#" method="post">
		    <div class="form-group">
		    	<label for="user_family">Фамилия пользователя</label>
				<input type="text" name="user_family" id="user_family" />
		    </div>

		    <div class="form-group">
		    	<label for="user_name">Имя пользователя:</label>
				<input type="text"  name="user_name" id="user_name" />
		    </div>
		    <div class="form-group">
		        <label for="user_surname">Отчество пользователя</label>
				<input type="text" name="user_surname" id="user_surname" />
		    </div>

		    <div class="form-group">
		        <label for="user_phone">Телефон пользователя:</label>
				<input type="text" name="user_phone" id="user_phone"/>
		    </div>

		    <div class="form-group">
		        <label for="user_work">Email пользователя</label>
				<input type="text" name="user_email" id="user_email"/>
		    </div>

    <p>
        <input type="submit" value="Отправить" class="btn btn-primary btn-block" />
    </p>
</form>	
<pre id="output"></pre>
		
	</div>

</div>
</div>

 <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
  <script>
	(function() {
		function toJSONString( form ) {
			var obj = {};
			var elements = form.querySelectorAll( "input" );
			for( var i = 0; i < elements.length; ++i ) {
				var element = elements[i];
				var name = element.name;
				var value = element.value;

				if( name ) {
					obj[ name ] = value;
				}
			}

			return JSON.stringify( obj );
		}

		document.addEventListener( "DOMContentLoaded", function() {
			var form = document.getElementById( "test" );
			var output = document.getElementById( "output" );
			form.addEventListener( "submit", function( e ) {
				e.preventDefault();
				var json = toJSONString( this );
				output.innerHTML = json;

			}, false);

		});

	})();
	
</script>


</body>
</html>